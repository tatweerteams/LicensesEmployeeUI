{"ast":null,"code":"import _objectSpread from \"D:/repo Tatweer/tatweerteams/CheckbooksOrderingUI/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport notificationComponent from \"../components/notificationComponent.vue\";\nimport subTitleComponent from \"./sub_title_component.vue\";\nimport { EventBus } from \"../../../eventBus\";\nimport { createHelpers } from \"vuex-map-fields\";\nvar _createHelpers = createHelpers({\n    getterType: \"getDataFields\",\n    mutationType: \"updateDataField\"\n  }),\n  mapFields = _createHelpers.mapFields;\nexport default {\n  components: {\n    \"notification-component\": notificationComponent,\n    subTitleComponent: subTitleComponent\n  },\n  data: function data() {\n    return {\n      drawer: null,\n      drawerNotivication: null,\n      userRoles: [],\n      messages: 0\n    };\n  },\n  created: function created() {\n    var _this = this;\n    EventBus.$on(\"closeDrawerNotivication\", function () {\n      _this.drawerNotivication = false;\n    });\n    this.$store.subscribe(function (mutation, state) {\n      if (mutation.type.startsWith(\"notification\")) {\n        _this.messages = state.notification.notificationCount;\n      }\n    });\n  },\n  computed: _objectSpread(_objectSpread({}, mapFields(\"auth\", {\n    userRoutes: \"routes\",\n    userInfo: \"userInfo\"\n  })), {}, {\n    phoneNumber: function phoneNumber() {\n      var _this$userInfo$phoneN, _this$userInfo;\n      return (_this$userInfo$phoneN = (_this$userInfo = this.userInfo) === null || _this$userInfo === void 0 ? void 0 : _this$userInfo.phoneNumber) !== null && _this$userInfo$phoneN !== void 0 ? _this$userInfo$phoneN : \"\";\n    },\n    userEmail: function userEmail() {\n      var _this$userInfo$email, _this$userInfo2;\n      return (_this$userInfo$email = (_this$userInfo2 = this.userInfo) === null || _this$userInfo2 === void 0 ? void 0 : _this$userInfo2.email) !== null && _this$userInfo$email !== void 0 ? _this$userInfo$email : \"\";\n    },\n    userName: function userName() {\n      var _this$userInfo$name, _this$userInfo3;\n      return (_this$userInfo$name = (_this$userInfo3 = this.userInfo) === null || _this$userInfo3 === void 0 ? void 0 : _this$userInfo3.name) !== null && _this$userInfo$name !== void 0 ? _this$userInfo$name : \"\";\n    },\n    employeeNo: function employeeNo() {\n      var _this$userInfo$employ, _this$userInfo4;\n      return (_this$userInfo$employ = (_this$userInfo4 = this.userInfo) === null || _this$userInfo4 === void 0 ? void 0 : _this$userInfo4.employeeNumber) !== null && _this$userInfo$employ !== void 0 ? _this$userInfo$employ : \"000\";\n    },\n    roleName: function roleName() {\n      var _this$userInfo$roleNa, _this$userInfo5;\n      return (_this$userInfo$roleNa = (_this$userInfo5 = this.userInfo) === null || _this$userInfo5 === void 0 ? void 0 : _this$userInfo5.roleName) !== null && _this$userInfo$roleNa !== void 0 ? _this$userInfo$roleNa : \"\";\n    },\n    bankName: function bankName() {\n      var _this$userInfo$bankNa, _this$userInfo6;\n      return (_this$userInfo$bankNa = (_this$userInfo6 = this.userInfo) === null || _this$userInfo6 === void 0 ? void 0 : _this$userInfo6.bankName) !== null && _this$userInfo$bankNa !== void 0 ? _this$userInfo$bankNa : \"جميع المصارف\";\n    },\n    branchName: function branchName() {\n      var _this$userInfo$branch, _this$userInfo7;\n      return (_this$userInfo$branch = (_this$userInfo7 = this.userInfo) === null || _this$userInfo7 === void 0 ? void 0 : _this$userInfo7.branchName) !== null && _this$userInfo$branch !== void 0 ? _this$userInfo$branch : \"جميع الفروع\";\n    },\n    branchNumber: function branchNumber() {\n      var _this$userInfo$branch2, _this$userInfo8;\n      return (_this$userInfo$branch2 = (_this$userInfo8 = this.userInfo) === null || _this$userInfo8 === void 0 ? void 0 : _this$userInfo8.branchNumber) !== null && _this$userInfo$branch2 !== void 0 ? _this$userInfo$branch2 : \"000\";\n    }\n  }),\n  methods: {\n    goToProfile: function goToProfile() {\n      this.$router.push(\"/profile\");\n    },\n    exit: function exit() {\n      this.$store.dispatch(\"auth/logout\");\n      this.$router.push(\"/login\");\n    },\n    hasPermassion: function hasPermassion(meta) {\n      var metaAllow = meta.some(function (item) {\n        return item == \"Allow\";\n      });\n      if (metaAllow) {\n        return true;\n      }\n      this.userRoles = this.$store.getters[\"auth/getRole\"];\n      var result = this.userRoles.some(function (item) {\n        return meta.includes(item);\n      });\n      if (result) {\n        return true;\n      }\n      return false;\n    },\n    showNotification: function showNotification() {\n      this.drawerNotivication = !this.drawerNotivication;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;AAgLA;AACA;AACA;AAEA;AACA;IACAA;IACAC;EACA;EAHAC;AAIA;EACAC;IACA;IACAC;EACA;EACAC;IAAA;MACAC;MACAC;MACAC;MACAC;IACA;EAAA;EAEAC;IAAA;IACAC;MACA;IACA;IAEA;MACA;QACA;MACA;IACA;EACA;EACAC,0CACAV;IACAW;IACAC;EACA;IAEAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;EAAA,EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IAEAC;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IAEAC;MACA;IACA;EACA;AACA","names":["getterType","mutationType","mapFields","components","subTitleComponent","data","drawer","drawerNotivication","userRoles","messages","created","EventBus","computed","userRoutes","userInfo","phoneNumber","userEmail","userName","employeeNo","roleName","bankName","branchName","branchNumber","methods","goToProfile","exit","hasPermassion","showNotification"],"sourceRoot":"src/views/Layout/components","sources":["slideBarComponent.vue"],"sourcesContent":["<template>\r\n  <nav>\r\n    <v-app-bar app color=\"#081D38\" elevate-on-scroll elevation=\"0\">\r\n      <v-app-bar-nav-icon\r\n        color=\"#EDEDED\"\r\n        @click.stop=\"drawer = !drawer\"\r\n      ></v-app-bar-nav-icon>\r\n      <v-spacer></v-spacer>\r\n\r\n      <subTitleComponent\r\n        :title=\"userName\"\r\n        :subTitle=\"roleName\"\r\n        :titleNumber=\"employeeNo\"\r\n      ></subTitleComponent>\r\n\r\n      <v-btn icon @click.stop=\"showNotification\">\r\n        <v-badge :content=\"messages\" :value=\"messages\" color=\"#EDEDED\" overlap>\r\n          <v-icon color=\"#EDEDED\"> mdi-bell-outline </v-icon>\r\n        </v-badge>\r\n      </v-btn>\r\n      <v-btn icon @click=\"exit\">\r\n        <v-icon color=\"#EDEDED\"> mdi-exit-to-app</v-icon>\r\n      </v-btn>\r\n    </v-app-bar>\r\n\r\n    <v-navigation-drawer\r\n      right\r\n      app\r\n      v-model=\"drawer\"\r\n      dark\r\n      color=\"#081D38\"\r\n      class=\"elevation-0\"\r\n      floating\r\n    >\r\n      <div class=\"text-center mt-5\">\r\n        <h4 class=\"mt-3 text-color\">نظام إرسال طلبات دفاتر الصكوك</h4>\r\n        <v-divider class=\"my-5 mx-2\" color=\"#aeccc8\"></v-divider>\r\n      </div>\r\n\r\n      <subTitleComponent\r\n        :title=\"bankName\"\r\n        :subTitle=\"branchName\"\r\n        :titleNumber=\"branchNumber\"\r\n      ></subTitleComponent>\r\n\r\n      <v-list dense shaped subheader nav class=\"my-5\">\r\n        <template v-for=\"(route, i) in userRoutes\">\r\n          <template v-if=\"!route.hidden\">\r\n            <template v-if=\"route.children && route.children.length > 1\">\r\n              <template>\r\n                <v-list-group\r\n                  class=\"group px-0 py-0\"\r\n                  style=\"padding: 0px\"\r\n                  active-class=\"active\"\r\n                  color=\"#FFFFFF\"\r\n                  :key=\"i\"\r\n                  no-action\r\n                  append-icon=\"\"\r\n                >\r\n                  <template v-slot:activator>\r\n                    <v-list-item-action class=\"my-0 ml-2 mr-3\">\r\n                      <v-icon color=\"#FFFFFF\">{{ route.icon }}</v-icon>\r\n                    </v-list-item-action>\r\n                    <v-list-item-content class=\"my-1\">\r\n                      <v-list-item-title\r\n                        class=\"my-1\"\r\n                        style=\"color: #FFFFFF !important\"\r\n                        v-text=\"route.name\"\r\n                      ></v-list-item-title>\r\n                    </v-list-item-content>\r\n                    <v-list-item-action style=\"margin-right: 12px\" class=\"my-1\">\r\n                      <v-btn icon>\r\n                        <v-icon style=\"color: #FFFFFF !important\"\r\n                          >keyboard_arrow_down</v-icon\r\n                        >\r\n                      </v-btn>\r\n                    </v-list-item-action>\r\n                  </template>\r\n                  <template v-for=\"(childRoute, i) in route.children\">\r\n                    <template v-if=\"!childRoute.hidden\">\r\n                      <v-list-item\r\n                        active-class=\"active\"\r\n                        :to=\"childRoute.path\"\r\n                        :key=\"i\"\r\n                        v-slot=\"{ active }\"\r\n                        color=\"#FFFFFF\"\r\n                        class=\"px-0\"\r\n                        :disabled=\"!hasPermassion(childRoute.meta)\"\r\n                      >\r\n                        <div\r\n                          class=\"d-flex px-3\"\r\n                          :style=\"\r\n                            active\r\n                              ? 'border-right: 4px solid #FFFFFF;background-color:#536DFE;width: 100%;border-bottom-left-radius: 25px;border-top-left-radius: 25px; '\r\n                              : ''\r\n                          \"\r\n                        >\r\n                          <v-list-item-icon\r\n                            class=\"mx-5 justify-center text-center \"\r\n                          >\r\n                            <v-icon\r\n                              v-text=\"childRoute.icon\"\r\n                              v-if=\"childRoute.disabled\"\r\n                              :color=\"active ? '#FFFFFF' : '#FFFFFF'\"\r\n                            />\r\n                            <v-icon v-else color=\"#a19ea5\">\r\n                              mdi-cancel\r\n                            </v-icon>\r\n                          </v-list-item-icon>\r\n                          <v-list-item-content>\r\n                            <v-list-item-title\r\n                              :class=\"\r\n                                active || childRoute.disabled\r\n                                  ? 'text-color-selected'\r\n                                  : 'text-color-unSelected'\r\n                              \"\r\n                              class=\"py-1\"\r\n                              >{{ childRoute.name }}</v-list-item-title\r\n                            >\r\n                          </v-list-item-content>\r\n                        </div>\r\n                      </v-list-item>\r\n                    </template>\r\n                  </template>\r\n                </v-list-group>\r\n              </template>\r\n            </template>\r\n            <template v-else>\r\n              <v-list-item\r\n                style=\"padding-left: 5px;\"\r\n                active-class=\"active\"\r\n                :to=\"route.path\"\r\n                :key=\"i\"\r\n                v-slot=\"{ active }\"\r\n                color=\"#FFFFFF\"\r\n                class=\"px-0\"\r\n                :disabled=\"!route.disabled\"\r\n              >\r\n                <div\r\n                  class=\"d-flex px-3 \"\r\n                  :style=\"\r\n                    active\r\n                      ? 'border-right: 4px solid #FFFFFF;background-color:#536DFE;width: 100%;border-bottom-left-radius: 25px;border-top-left-radius: 25px; '\r\n                      : ''\r\n                  \"\r\n                >\r\n                  <v-list-item-icon class=\"mr-2 mx-3\">\r\n                    <v-icon\r\n                      v-text=\"route.icon\"\r\n                      :color=\"active ? '#FFFFFF' : '#FFFFFF'\"\r\n                    />\r\n                  </v-list-item-icon>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title\r\n                      :class=\"\r\n                        active || !route.disabled\r\n                          ? 'text-color-selected'\r\n                          : 'text-color-unSelected'\r\n                      \"\r\n                      class=\"py-1\"\r\n                      >{{ route.name }}</v-list-item-title\r\n                    >\r\n                  </v-list-item-content>\r\n                </div>\r\n              </v-list-item>\r\n            </template>\r\n          </template>\r\n        </template>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n\r\n    <notification-component :drawerNotivicationProp=\"drawerNotivication\" />\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport notificationComponent from \"../components/notificationComponent.vue\";\r\nimport subTitleComponent from \"./sub_title_component.vue\";\r\nimport { EventBus } from \"../../../eventBus\";\r\n\r\nimport { createHelpers } from \"vuex-map-fields\";\r\nconst { mapFields } = createHelpers({\r\n  getterType: \"getDataFields\",\r\n  mutationType: \"updateDataField\",\r\n});\r\nexport default {\r\n  components: {\r\n    \"notification-component\": notificationComponent,\r\n    subTitleComponent,\r\n  },\r\n  data: () => ({\r\n    drawer: null,\r\n    drawerNotivication: null,\r\n    userRoles: [],\r\n    messages: 0,\r\n  }),\r\n\r\n  created() {\r\n    EventBus.$on(\"closeDrawerNotivication\", () => {\r\n      this.drawerNotivication = false;\r\n    });\r\n\r\n    this.$store.subscribe((mutation, state) => {\r\n      if (mutation.type.startsWith(\"notification\")) {\r\n        this.messages = state.notification.notificationCount;\r\n      }\r\n    });\r\n  },\r\n  computed: {\r\n    ...mapFields(\"auth\", {\r\n      userRoutes: \"routes\",\r\n      userInfo: \"userInfo\",\r\n    }),\r\n\r\n    phoneNumber() {\r\n      return this.userInfo?.phoneNumber ?? \"\";\r\n    },\r\n    userEmail() {\r\n      return this.userInfo?.email ?? \"\";\r\n    },\r\n    userName() {\r\n      return this.userInfo?.name ?? \"\";\r\n    },\r\n    employeeNo() {\r\n      return this.userInfo?.employeeNumber ?? \"000\";\r\n    },\r\n    roleName() {\r\n      return this.userInfo?.roleName ?? \"\";\r\n    },\r\n    bankName() {\r\n      return this.userInfo?.bankName ?? \"جميع المصارف\";\r\n    },\r\n    branchName() {\r\n      return this.userInfo?.branchName ?? \"جميع الفروع\";\r\n    },\r\n    branchNumber() {\r\n      return this.userInfo?.branchNumber ?? \"000\";\r\n    },\r\n  },\r\n  methods: {\r\n    goToProfile() {\r\n      this.$router.push(\"/profile\");\r\n    },\r\n    exit() {\r\n      this.$store.dispatch(\"auth/logout\");\r\n      this.$router.push(\"/login\");\r\n    },\r\n\r\n    hasPermassion(meta) {\r\n      var metaAllow = meta.some((item) => item == \"Allow\");\r\n      if (metaAllow) {\r\n        return true;\r\n      }\r\n      this.userRoles = this.$store.getters[\"auth/getRole\"];\r\n      var result = this.userRoles.some((item) => meta.includes(item));\r\n      if (result) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    showNotification() {\r\n      this.drawerNotivication = !this.drawerNotivication;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.image {\r\n  border: 2px solid #32746c;\r\n}\r\n.text-color {\r\n  color: #ffffff !important;\r\n}\r\n\r\n.text-color-selected {\r\n  color: #ffffff !important;\r\n  font-size: 14px !important;\r\n  opacity: 1 !important;\r\n}\r\n\r\n.text-color-unSelected {\r\n  color: #a19ea5 !important;\r\n  font-size: 14px !important;\r\n}\r\n.sub-title {\r\n  color: #a19ea5 !important;\r\n  font-size: 10px !important;\r\n}\r\n.position-absolute-exit {\r\n  position: absolute;\r\n  bottom: 20px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}