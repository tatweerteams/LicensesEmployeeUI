{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport axios from \"axios\";\n//import { MessageBox, Message } from \"element-ui\";\nimport store from \"../store\";\nimport { getToken } from \"./session\";\nimport router from \"./index\";\n// create an axios instance\nvar service = axios.create({\n  baseURL: \"https://localhost:7208\",\n  //  baseURL: \"https://kyc.tatweer.ly:44311/api\",\n  timeout: 60000 // request timeout\n});\n\n// request interceptor\nservice.interceptors.request.use(function (config) {\n  // do something before request is sent\n  if (store.getters[\"auth/getToken\"]) {\n    config.headers[\"Authorization\"] = \"Bearer \" + getToken();\n  }\n  return config;\n}, function (error) {\n  // do something with request error\n  console.log(error); // for debug\n  return Promise.reject(error);\n});\n\n// response interceptor\nservice.interceptors.response.use(function (response) {\n  var res = response.data;\n\n  // if the custom code is not 20000, it is judged as an error.\n  if (response.status !== 200) {\n    return Promise.reject(new Error(res.message || \"Error\"));\n  } else {\n    if (res.stateResult == 1) {\n      return Promise.reject(res.messages[0]);\n    }\n    if (res.stateResult == 2) {\n      return Promise.reject(res.messages[0]);\n    }\n    if (res.state == 3) {\n      return Promise.reject(res.messages[0].error);\n    }\n    if (res.stateResult == 4) {\n      alert(res.messages[0]);\n      return Promise.reject(res.messages[0]);\n    }\n    if (res.stateResult == 5) {\n      return Promise.reject(res.messages[0]);\n    }\n    if (res.stateResult == 6) {\n      return Promise.reject(res);\n    }\n    if (res.stateResult == 7) {\n      return Promise.reject(res.messages[0]);\n    }\n    if (res.stateResult == 0) {\n      return res;\n    }\n  }\n}, function (error) {\n  console.log(\"err\" + error); // for debug\n  return Promise.reject(\"يرجى مراجعة المسؤول علي النظام\");\n});\nexport default service;","map":{"version":3,"names":["axios","store","getToken","router","service","create","baseURL","timeout","interceptors","request","use","config","getters","headers","error","console","log","Promise","reject","response","res","data","status","Error","message","stateResult","messages","state","alert"],"sources":["D:/repo Tatweer/tatweerteams/CheckbooksOrderingUI/src/util/baseUrlCustomer.js"],"sourcesContent":["import axios from \"axios\";\r\n//import { MessageBox, Message } from \"element-ui\";\r\nimport store from \"../store\";\r\nimport { getToken } from \"./session\";\r\nimport router from \"./index\";\r\n// create an axios instance\r\nconst service = axios.create({\r\n  baseURL: \"https://localhost:7208\",\r\n  //  baseURL: \"https://kyc.tatweer.ly:44311/api\",\r\n  timeout: 60000, // request timeout\r\n});\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n  (config) => {\r\n    // do something before request is sent\r\n    if (store.getters[\"auth/getToken\"]) {\r\n      config.headers[\"Authorization\"] = \"Bearer \" + getToken();\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    // do something with request error\r\n    console.log(error); // for debug\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// response interceptor\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    const res = response.data;\r\n\r\n    // if the custom code is not 20000, it is judged as an error.\r\n    if (response.status !== 200) {\r\n      return Promise.reject(new Error(res.message || \"Error\"));\r\n    } else {\r\n      if (res.stateResult == 1) {\r\n        return Promise.reject(res.messages[0]);\r\n      }\r\n\r\n      if (res.stateResult == 2) {\r\n        return Promise.reject(res.messages[0]);\r\n      }\r\n\r\n      if (res.state == 3) {\r\n        return Promise.reject(res.messages[0].error);\r\n      }\r\n      if (res.stateResult == 4) {\r\n        alert(res.messages[0]);\r\n        return Promise.reject(res.messages[0]);\r\n      }\r\n      if (res.stateResult == 5) {\r\n        return Promise.reject(res.messages[0]);\r\n      }\r\n\r\n      if (res.stateResult == 6) {\r\n        return Promise.reject(res);\r\n      }\r\n\r\n      if (res.stateResult == 7) {\r\n        return Promise.reject(res.messages[0]);\r\n      }\r\n\r\n      if (res.stateResult == 0) {\r\n        return res;\r\n      }\r\n    }\r\n  },\r\n  (error) => {\r\n    console.log(\"err\" + error); // for debug\r\n    return Promise.reject(\"يرجى مراجعة المسؤول علي النظام\");\r\n  }\r\n);\r\n\r\nexport default service;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,OAAOC,KAAK,MAAM,UAAU;AAC5B,SAASC,QAAQ,QAAQ,WAAW;AACpC,OAAOC,MAAM,MAAM,SAAS;AAC5B;AACA,IAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC3BC,OAAO,EAAE,wBAAwB;EACjC;EACAC,OAAO,EAAE,KAAK,CAAE;AAClB,CAAC,CAAC;;AAEF;AACAH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9B,UAACC,MAAM,EAAK;EACV;EACA,IAAIV,KAAK,CAACW,OAAO,CAAC,eAAe,CAAC,EAAE;IAClCD,MAAM,CAACE,OAAO,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGX,QAAQ,EAAE;EAC1D;EACA,OAAOS,MAAM;AACf,CAAC,EACD,UAACG,KAAK,EAAK;EACT;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CAAC;EACpB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;;AAED;AACAV,OAAO,CAACI,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC/B,UAACS,QAAQ,EAAK;EACZ,IAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;;EAEzB;EACA,IAAIF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IAC3B,OAAOL,OAAO,CAACC,MAAM,CAAC,IAAIK,KAAK,CAACH,GAAG,CAACI,OAAO,IAAI,OAAO,CAAC,CAAC;EAC1D,CAAC,MAAM;IACL,IAAIJ,GAAG,CAACK,WAAW,IAAI,CAAC,EAAE;MACxB,OAAOR,OAAO,CAACC,MAAM,CAACE,GAAG,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxC;IAEA,IAAIN,GAAG,CAACK,WAAW,IAAI,CAAC,EAAE;MACxB,OAAOR,OAAO,CAACC,MAAM,CAACE,GAAG,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxC;IAEA,IAAIN,GAAG,CAACO,KAAK,IAAI,CAAC,EAAE;MAClB,OAAOV,OAAO,CAACC,MAAM,CAACE,GAAG,CAACM,QAAQ,CAAC,CAAC,CAAC,CAACZ,KAAK,CAAC;IAC9C;IACA,IAAIM,GAAG,CAACK,WAAW,IAAI,CAAC,EAAE;MACxBG,KAAK,CAACR,GAAG,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;MACtB,OAAOT,OAAO,CAACC,MAAM,CAACE,GAAG,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxC;IACA,IAAIN,GAAG,CAACK,WAAW,IAAI,CAAC,EAAE;MACxB,OAAOR,OAAO,CAACC,MAAM,CAACE,GAAG,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxC;IAEA,IAAIN,GAAG,CAACK,WAAW,IAAI,CAAC,EAAE;MACxB,OAAOR,OAAO,CAACC,MAAM,CAACE,GAAG,CAAC;IAC5B;IAEA,IAAIA,GAAG,CAACK,WAAW,IAAI,CAAC,EAAE;MACxB,OAAOR,OAAO,CAACC,MAAM,CAACE,GAAG,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxC;IAEA,IAAIN,GAAG,CAACK,WAAW,IAAI,CAAC,EAAE;MACxB,OAAOL,GAAG;IACZ;EACF;AACF,CAAC,EACD,UAACN,KAAK,EAAK;EACTC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,CAAC,CAAC;EAC5B,OAAOG,OAAO,CAACC,MAAM,CAAC,gCAAgC,CAAC;AACzD,CAAC,CACF;AAED,eAAed,OAAO"},"metadata":{},"sourceType":"module"}